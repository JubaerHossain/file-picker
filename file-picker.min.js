!function(e){"use strict";var i="data:image/png;base64,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";e.fn.jubaerImagePicker=function(a){var t=0,d=0,n=0,r={fieldName:"",groupClassName:"col-md-4 col-sm-4 col-xs-6",rowHeight:"200px",dropFileLabel:"Drop file here",placeholderImage:a.defaultImage?{image:a.defaultImage,width:"100%"}:{image:i,width:"64px"},placeholderWidth:"64px",maxCount:"",maxFileSize:"",defaultImage:"",allowedExt:"png|jpg|jpeg|gif|svg",onAddRow:function(){},onRenderedPreview:function(){},onRemoveRow:function(){},onExtensionErr:function(){},onSizeErr:function(){},directUpload:{loaderIcon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n                                <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />\n                            </svg>',status:!1,url:"",success:function(){},error:function(){}}},o=e.extend({},r,a);function s(a,n){d=t;var r=a.groupClassName,o=a.rowHeight,s=a.fieldName,l=a.placeholderImage,u=l?.image?l.image:i,A=l?.width?l.width:"64px",c='<i class="fas fa-sync fa-spin"></i>';void 0!==a.directUpload.loaderIcon&&(c=a.directUpload.loaderIcon);var p=`<div class="${r} jubaer_item_wrapper" data-jubaerindexrow="${t}" style="margin-bottom : 20px; "><div style="position: relative;"><div class="jubaer_item_loader" data-jubaerindexloader="${t}" style=" position: absolute; width: 100%; height: ${o}; background: rgba(255,255,255, 0.7); z-index: 22; text-align: center; align-items: center; margin: auto; justify-content: center; flex-direction: column; display : none; font-size : 1.7em; color: #CECECE">${c}</div><label class="file_upload" style="width: 100%; height: ${o}; border: 2px dashed #ddd; border-radius: 3px; cursor: pointer; text-align: center; overflow: hidden; margin-top: 5px; margin-bottom : 5px; position : relative; display: flex; align-items: center; margin: auto; justify-content: center; flex-direction: column;"><a href="javascript:void(0)" data-jubaerindexremove="${t}" style="z-index:9999;position: absolute !important; right : 3px; top: 3px; display : none; background : #ED3C20; border-radius: 3px; width: 30px; height: 30px; line-height : 30px; text-align: center; text-decoration : none; color : #FFF;" class="jubaer_remove_row">\n                                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n                                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />\n                                                    </svg>\n                        </a><img style="width: ${A}; margin: 0 auto; vertical-align: middle;" data-jubaerindexi="${t}" src="${u}" class="jubaer_image_placeholder" /> <img style="width: 100%; vertical-align: middle; display:none;" class="img_" data-jubaerindeximage="${t}"/><video style="width: 100%; display:none;" class="video_" data-jubaerindexvideo="${t}" controls></video><audio style="width: 100%; display:none;" class="audio_" data-jubaerindexaudio="${t}" controls></audio><input class="form-control jubaer_image_input"  data-jubaerindexinput="${t}" style="display : none"  name="${s}" type="file"></label> </div></div>`,g=e.parseHTML(p);e(n).append(g),t++,a.onAddRow.call(this,t)}function l(i,a,d){var r=e(a).data("jubaerindexinput");if(a.files&&a.files[0]){var o=a.files[0],l=i.allowedExt,c=i.maxFileSize;if(u(o,l)&&A(o,c)){var p=new FileReader;p.onload=function(t){o.type.startsWith("image")?(e(d).find('img[data-jubaerindeximage="'+r+'"]').attr("src",t.target.result).show(),e(d).find('img[data-jubaerindexi="'+r+'"]').hide(),e(d).find('a[data-jubaerindexremove="'+r+'"]').show(),e(d).find('video[data-jubaerindexvideo="'+r+'"]').hide(),e(d).find('audio[data-jubaerindexaudio="'+r+'"]').hide()):o.type.startsWith("video")?(e(d).find('video[data-jubaerindexvideo="'+r+'"]').attr("src",t.target.result).show(),e(d).find('a[data-jubaerindexremove="'+r+'"]').show(),e(d).find('img[data-jubaerindexi="'+r+'"]').hide(),e(d).find('audio[data-jubaerindexaudio="'+r+'"]').hide()):o.type.startsWith("audio")&&(e(d).find('audio[data-jubaerindexaudio="'+r+'"]').attr("src",t.target.result).show(),e(d).find('a[data-jubaerindexremove="'+r+'"]').show(),e(d).find('img[data-jubaerindexi="'+r+'"]').hide(),e(d).find('video[data-jubaerindexvideo="'+r+'"]').hide()),i.onRenderedPreview.call(this,r),!0===i.directUpload.status&&function(i,a,t){var d=e(a).data("jubaerindexinput"),n=new FormData,r=a.files[0],o=i.directUpload.additionalParam;e(t).find('[data-jubaerindexloader="'+d+'"]').css("display","flex"),n.append("file",r),void 0!==o&&e.each(o,(function(e,i){n.append(e,i)}));e.ajax({url:i.directUpload.url,type:"POST",data:n,cache:!1,processData:!1,contentType:!1,success:function(a,n,r){e(t).find('[data-jubaerindexloader="'+d+'"]').css("display","none"),void 0!==i.directUpload.success&&i.directUpload.success(this,a,n,r)},error:function(a,n,r){e(t).find('[data-jubaerindexloader="'+d+'"]').css("display","none"),void 0!==i.directUpload.error&&i.directUpload.error(this,a,n,r)}})}(i,a,d)},p.readAsDataURL(a.files[0]);var g=!1;0==e(d).find('img[data-jubaerindeximage="'+r+'"]').is(":visible")&&(n++,g=!0),r===t-1&&g&&(""===i.maxCount||""!==i.maxCount&&n<i.maxCount)&&s(i,d)}if(!u(o,l))return e(d).find('input[data-jubaerindexinput="'+r+'"]').val(""),1==e(d).find('img[data-jubaerindeximage="'+r+'"]').is(":visible")&&e(d).find('img[data-jubaerindexi="'+r+'"]').hide(),i.onExtensionErr.call(this,r,o),!1;if(!A(o,c))return e(d).find('input[data-jubaerindexinput="'+r+'"]').val(""),1==e(d).find('img[data-jubaerindeximage="'+r+'"]').is(":visible")&&e(d).find('img[data-jubaerindexi="'+r+'"]').hide(),i.onSizeErr.call(this,r,o),!1}}function u(e,i){var a=e.type;return new RegExp(`(.*?).(${i})$`).test(a)||""===i}function A(e,i){return""===i||""!==i&&e.size/1e3<=i}function c(i){e(i).removeClass("hover")}return this.each((function(){var i=this;s(o,i),e(this).on("change",".jubaer_image_input",(function(){l(o,this,i)})),e(this).on("click",".jubaer_remove_row",(function(){!function(i,a,t){var r=e(a).data("jubaerindexremove");e(t).find('[data-jubaerindexrow="'+r+'"]').hide(),d!=r&&1!=e(t).find('img[data-jubaerindeximage="'+d+'"]').is(":visible")||s(i,t),n--,i.onRemoveRow.call(this,r)}(o,this,i)})),e(this).on("dragenter dragover dragstart",".jubaer_item_wrapper",(function(i){i.stopPropagation(),i.preventDefault(),e(this).addClass("hover")})),e(this).on("dragleave",".jubaer_item_wrapper",(function(){c(this)})),e(this).on("drop",".jubaer_item_wrapper",(function(a){a.stopPropagation(),a.preventDefault(),function(i,a,t){for(var d=e(t).attr("class").split(" "),n=0;n<d.length;n++)"jubaer_item_wrapper"==d[n]&&e(t).data("jubaerindexrow");a.originalEvent.dataTransfer&&a.originalEvent.dataTransfer.files.length&&(a.preventDefault(),a.stopPropagation(),l(i,a.originalEvent,t),c(t))}(o,this,i)}))}))}}(jQuery);